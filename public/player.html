<!doctype html>
<html lang="uk" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Deutsch Party — Player</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body class="player">
  <div class="app">
    <div class="shell">

      <div class="topbar">
        <div class="topbar-inner">
          <div class="brand">
            <div class="logo-gear" aria-hidden="true"></div>
            <div style="min-width:0">
              <h1>Deutsch Party — Player</h1>
              <p id="playerSub">Вхід • Лобі • Раунд</p>
            </div>
          </div>

          <div class="topbar-spacer"></div>

          <div class="pill" title="Кімната">
            <span class="label">Код</span>
            <span class="value" id="pillRoom">—</span>
          </div>
          <div class="lang-switch" style="margin-left:8px">
            <button class="btn small" type="button" onclick="applyLanguage('uk')">UA</button>
            <button class="btn small" type="button" onclick="applyLanguage('de')">DE</button>
          </div>
        </div>
      </div>

      <!-- JOIN -->
      <section class="card" id="joinCard">
        <div class="card-header">
          <div>
            <h2 class="card-title" data-i18n="joinTitle"></h2>
            <p class="card-sub" data-i18n="joinDesc"></p>
          </div>
        </div>

        <div class="card-body">
          <form class="form" autocomplete="off">
            <div class="field">
              <label for="roomInput">Код кімнати</label>
              <input class="input" id="roomInput" inputmode="numeric" placeholder="Напр. 483921" />
              <div class="helper">6 цифр, без пробілів.</div>
            </div>

            <div class="field">
              <label for="nameInput">Нік</label>
              <input class="input" id="nameInput" maxlength="14" placeholder="Твій нік" />
              <div class="helper">Коротко, щоб помістилось у таблицю.</div>
            </div>

            <button class="btn primary full" id="btnJoin" type="button" data-i18n="joinBtn"></button>
          </form>
        </div>

        <div class="card-foot">
          <div class="note" id="joinNote" data-i18n="joinNote">Після входу чекай на старт від вчителя.</div>
        </div>
      </section>

      <!-- LOBBY -->
      <section class="card hidden" id="lobbyCard">
        <div class="card-header">
          <div>
            <h2 class="card-title" data-i18n="waitingTitle"></h2>
            <p class="card-sub">Кімната: <b id="roomText">—</b> • Ти: <b id="meText">—</b></p>
          </div>
        </div>

        <div class="card-body">
          <!-- WOW Waiting -->
          <div class="waiting-ui" aria-live="polite">
            <div class="waiting-gear" aria-hidden="true"></div>
            <div class="waiting-main">
              <div class="waiting-title">Очікуємо старт…</div>
              <div class="waiting-sub" id="lobbyStatus">Попроси вчителя натиснути старт раунду</div>
            </div>
            <div class="waiting-dots" aria-hidden="true"><span></span><span></span><span></span></div>
          </div>
          <div class="btn-row">
            <button class="btn primary full" id="btnReady" type="button" data-i18n="readyBtn"></button>
          </div>
          <div style="height:12px"></div>
          <div class="note" data-i18n="lobbyNote">Після старту з’явиться завдання. Відповідь — одним натисканням.</div>
        </div>
      </section>

      <!-- PLAY -->
      <section class="card hidden" id="answerCard">
        <div class="card-header">
          <div>
            <h2 class="card-title" data-i18n="round"></h2>
            <p class="card-sub" id="roundMeta">—</p>
          </div>
        </div>

        <div class="card-body">
            <div class="round">
            <div class="timer big">
              <div class="timer-fill" id="timerFill" style="width:100%"></div>
              <div class="timer-label"><span>Час</span><b id="timerText">—</b></div>
            </div>

            <div class="question" id="qText">
              —
              <small id="qSub" data-i18n="chooseAnswer">Обери правильну відповідь</small>
            </div>

            <div class="answers" id="answersWrap"></div>

            <div id="feedback" class="feedback"></div>

            <div class="note" id="hintText">—</div>
          </div>
        </div>

        <div class="card-foot">
          <button class="btn full" id="btnSubmit" type="button" disabled data-i18n="submitAnswer"></button>
        </div>
      </section>

      <!-- RESULT -->
      <section class="card hidden" id="resultCard">
        <div class="card-header">
          <div>
            <h2 class="card-title" data-i18n="result"></h2>
            <p class="card-sub" id="resultSub">—</p>
          </div>
        </div>
        <div class="card-body">
          <div class="results-container"></div>
          <div class="note" id="resultExplain">—</div>
        </div>
        <div class="card-foot">
          <button class="btn primary full" id="btnResultOk" type="button" data-i18n="ok"></button>
        </div>
      </section>

    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="./questions.js"></script>
  <script src="./app.js"></script>
</body>
  <div class="hud-signature">
    <span class="sig-text">by Yaroslav Zhuravskyi © 2026</span>
    <a class="sig-ig" href="https://instagram.com/delta.yarick" target="_blank" rel="noopener">inst @delta.yarick</a>
  </div>
</html>

